import axios from"axios";import{setTimeout}from"timers";const burl="/larpassport/public/api/",users={namespaced:!0,state:{users:{name:"",email:"",id:""}},actions:{login_accnt:({commit:commit},formdata)=>new Promise((resolve,reject)=>{axios.post(burl+"login",frmdata.postData,frmdata.axiosConfig).then(response=>{commit("SET_USER",response.data.success),localStorage.setItem("token",response.data.success.token),resolve(response.data.success)}).catch(err=>{reject(err)})}),check_auth:({commit:commit},formdata)=>new Promise((resolve,reject)=>{axios.post(burl+"details","",frmdata.axiosConfig).then(response=>{commit("SET_USER",response.data.success),localStorage.setItem("token",response.data.success.token),resolve(response.data.success)}).catch(err=>{reject(err)})})},getters:{getUserInfo:state=>state.users},mutations:{SET_USER(state,dd){state.users.name=dd.name,state.users.email=dd.email,state.users.id=dd.id}}};export default users;