import Vue from"vue";require("./bootstrap"),window.Vue=require("vue");import store from"@/assets/js/store.js";import Routes from"@/assets/js/router.js";import App from"@/assets/js/App.vue";console.clear(),Routes.beforeEach((to,from,next)=>{const accessToken=localStorage.getItem("token");if(to.meta.requiresAuth)if(""!=accessToken&&null!=accessToken){let axiosConfig={headers:{Authorization:"Bearer "+accessToken,Accept:"application/json"}};store.dispatch("users/check_auth",axiosConfig).then(res=>{next()}).catch(err=>{next({name:"login"})})}else next({name:"login"});else next()});const app=new Vue({el:"#app",router:Routes,store:store,render:h=>h(App)});